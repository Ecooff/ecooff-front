{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useEffect, useState } from \"react\";\nimport { StatusBar } from \"expo-status-bar\";\nimport { MenuComponent } from \"../../components\";\nimport Checkout from \"./Checkout\";\nimport { localhost } from \"../../localhost.json\";\nimport { fakeData } from \"../../utils/fakeData\";\nimport { FontAwesome5 } from \"@expo/vector-icons\";\nimport { useSelector } from \"react-redux\";\nimport { selectUser } from \"../../store/userSlice\";\nimport axios from \"axios\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar CartScreen = function CartScreen() {\n  var user = useSelector(selectUser);\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      basket = _useState2[0],\n      setBasket = _useState2[1];\n\n  var navigator = useNavigation();\n  useEffect(function () {\n    axios.get(\"http://\" + localhost + \"/api/cart\", {\n      headers: {\n        Authorization: \"Bearer \" + (user == null ? void 0 : user.token)\n      }\n    }).then(function (_ref) {\n      var data = _ref.data;\n      return data.products ? setBasket(data.products) : setBasket(fakeData.productsList);\n    }).catch(function (err) {\n      console.log(err);\n      setBasket(fakeData.productsList);\n    });\n  }, []);\n\n  var MyBasket = function MyBasket() {\n    if (basket.length === 0) return _jsx(Text, {\n      children: \"Nada en el carrito\"\n    });\n    return basket.map(function (product, i) {\n      var _useState3 = useState(1),\n          _useState4 = _slicedToArray(_useState3, 2),\n          counter = _useState4[0],\n          setCounter = _useState4[1];\n\n      var decreaseAmount = function decreaseAmount() {\n        return counter > 1 ? setCounter(counter - 1) : \"\";\n      };\n\n      var increaseAmount = function increaseAmount() {\n        return setCounter(counter + 1);\n      };\n\n      var removeProduct = function removeProduct() {\n        console.log(\"removeProduct is working\");\n      };\n\n      return _jsxs(View, {\n        style: styles.productCard,\n        children: [_jsx(View, {\n          style: styles.cardImage,\n          children: _jsx(Image, {\n            style: styles.productImage,\n            source: {\n              uri: product.url\n            }\n          })\n        }), _jsxs(View, {\n          style: styles.dataContainer,\n          children: [_jsxs(View, {\n            style: styles.productHeader,\n            children: [_jsx(Text, {\n              style: styles.productHeaderText,\n              children: product.title\n            }), _jsxs(Text, {\n              style: styles.productHeaderText,\n              children: [\"$ \", product.price * counter]\n            })]\n          }), _jsx(Text, {\n            style: styles.subHeaderText,\n            children: product.date\n          }), _jsxs(View, {\n            style: styles.botonera,\n            children: [_jsx(Pressable, {\n              onPress: function onPress() {\n                return increaseAmount();\n              },\n              children: _jsx(FontAwesome5, {\n                name: \"plus-square\",\n                size: 20,\n                color: \"#3D9D5D\"\n              })\n            }), _jsx(Text, {\n              style: {\n                marginHorizontal: 10\n              },\n              children: counter\n            }), _jsx(Pressable, {\n              onPress: function onPress() {\n                return decreaseAmount();\n              },\n              children: _jsx(FontAwesome5, {\n                name: \"minus-square\",\n                size: 20,\n                color: \"#3D9D5D\"\n              })\n            }), _jsx(Pressable, {\n              onPress: function onPress() {\n                return removeProduct();\n              },\n              children: _jsx(FontAwesome5, {\n                name: \"trash-alt\",\n                size: 20,\n                color: \"#3D9D5D\",\n                style: styles.trashIcon\n              })\n            })]\n          })]\n        })]\n      }, i);\n    });\n  };\n\n  var Total = function Total() {\n    return _jsxs(View, {\n      style: styles.menuContainer,\n      children: [_jsxs(View, {\n        style: styles.footerContainer,\n        children: [_jsx(Text, {\n          style: [styles.footerMainText],\n          children: \"Total\"\n        }), _jsx(Text, {\n          style: [styles.footerMainText],\n          children: \"$850\"\n        })]\n      }), _jsxs(View, {\n        children: [_jsxs(View, {\n          style: styles.footerContainer,\n          children: [_jsx(Text, {\n            style: styles.footerSecondaryText,\n            children: \"Delivery\"\n          }), _jsx(Text, {\n            style: styles.footerSecondaryText,\n            children: \"$200\"\n          })]\n        }), _jsxs(View, {\n          style: styles.footerContainer,\n          children: [_jsx(Text, {\n            style: styles.footerSecondaryText,\n            children: \"Productos\"\n          }), _jsx(Text, {\n            style: styles.footerSecondaryText,\n            children: \"$650\"\n          })]\n        })]\n      })]\n    });\n  };\n\n  return _jsxs(View, {\n    style: styles.homeContainer,\n    children: [_jsx(StatusBar, {\n      backgroundColor: \"white\",\n      barStyle: \"dark-content\"\n    }), _jsxs(ScrollView, {\n      style: styles.menuContainer,\n      children: [_jsx(MenuComponent, {}), _jsx(Text, {\n        style: styles.header,\n        children: \"Tu carrito\"\n      }), _jsx(MyBasket, {})]\n    }), _jsx(Total, {}), _jsx(Pressable, {\n      style: styles.buttonPurchase,\n      onPress: function onPress() {\n        return navigator.navigate('Orders');\n      },\n      children: _jsxs(View, {\n        style: styles.buttonContainer,\n        children: [_jsx(Text, {\n          style: styles.textStyle,\n          children: \"Confirmar pago\"\n        }), _jsx(Text, {\n          style: styles.textStyle,\n          children: \"$850\"\n        })]\n      })\n    })]\n  });\n};\n\nexport default CartScreen;\nvar styles = StyleSheet.create({\n  header: {\n    fontWeight: \"bold\",\n    fontSize: 38,\n    alignSelf: \"center\",\n    marginBottom: 20\n  },\n  footerContainer: {\n    justifyContent: \"space-between\",\n    flexDirection: \"row\",\n    marginHorizontal: 20,\n    marginVertical: 3\n  },\n  footerMainText: {\n    fontWeight: \"bold\",\n    fontSize: 28\n  },\n  footerSecondaryText: {\n    fontWeight: \"bold\",\n    fontSize: 12\n  },\n  productHeaderText: {\n    fontSize: 14,\n    fontWeight: \"bold\"\n  },\n  productHeader: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\"\n  },\n  dataContainer: {\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    width: \"75%\"\n  },\n  botonera: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    width: \"55%\"\n  },\n  trashIcon: {\n    marginLeft: 40\n  },\n  homeContainer: {\n    flex: 1\n  },\n  menuContainer: {\n    paddingTop: 40,\n    paddingHorizontal: 10\n  },\n  cardImage: {\n    padding: 5,\n    backgroundColor: \"#F6F6F6\",\n    borderRadius: 50\n  },\n  productImage: {\n    width: 60,\n    height: 60\n  },\n  subHeaderText: {\n    marginVertical: 5,\n    fontSize: 14\n  },\n  productCard: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    borderRadius: 10,\n    marginBottom: 20,\n    backgroundColor: \"white\"\n  },\n  cardBody: {\n    paddingHorizontal: 15,\n    width: \"60%\"\n  },\n  buttonPurchase: {\n    borderTopStartRadius: 20,\n    borderTopEndRadius: 20,\n    padding: 20,\n    elevation: 2,\n    width: \"100%\",\n    backgroundColor: \"#3D9D5D\",\n    marginTop: 20\n  },\n  textStyle: {\n    color: \"white\",\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  buttonContainer: {\n    justifyContent: \"space-between\",\n    flexDirection: \"row\"\n  }\n});","map":{"version":3,"sources":["C:/Users/Valen/Desktop/ecooff-front/screens/Shop/CartScreen.js"],"names":["React","useEffect","useState","StatusBar","MenuComponent","Checkout","localhost","fakeData","FontAwesome5","useSelector","selectUser","axios","useNavigation","CartScreen","user","basket","setBasket","navigator","get","headers","Authorization","token","then","data","products","productsList","catch","err","console","log","MyBasket","length","map","product","i","counter","setCounter","decreaseAmount","increaseAmount","removeProduct","styles","productCard","cardImage","productImage","uri","url","dataContainer","productHeader","productHeaderText","title","price","subHeaderText","date","botonera","marginHorizontal","trashIcon","Total","menuContainer","footerContainer","footerMainText","footerSecondaryText","homeContainer","header","buttonPurchase","navigate","buttonContainer","textStyle","StyleSheet","create","fontWeight","fontSize","alignSelf","marginBottom","justifyContent","flexDirection","marginVertical","paddingHorizontal","paddingVertical","width","marginLeft","flex","paddingTop","padding","backgroundColor","borderRadius","height","alignItems","cardBody","borderTopStartRadius","borderTopEndRadius","elevation","marginTop","color","textAlign"],"mappings":"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","sourcesContent":["import {\r\n  Image,\r\n  Pressable,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  TouchableOpacity,\r\n  View,\r\n} from \"react-native\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { StatusBar } from \"expo-status-bar\";\r\n\r\nimport { MenuComponent } from \"../../components\";\r\nimport Checkout from \"./Checkout\";\r\nimport { localhost } from \"../../localhost.json\"\r\nimport { fakeData } from \"../../utils/fakeData\";\r\nimport { FontAwesome5 } from \"@expo/vector-icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { selectUser } from \"../../store/userSlice\";\r\nimport axios from \"axios\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\n\r\nconst CartScreen = () => {\r\n  const user = useSelector(selectUser);\r\n  const [basket, setBasket] = useState([]);\r\n  // const [total, setTotal] =useState(0);\r\n  const navigator = useNavigation();\r\n\r\n  useEffect(() => {\r\n    axios\r\n    .get(`http://${localhost}/api/cart`, { //this doesnt work, i need me cart/basket\r\n      headers: {\r\n        Authorization: `Bearer ${user?.token}`,\r\n      },\r\n    })\r\n    .then(({ data }) => data.products ? setBasket(data.products) : setBasket(fakeData.productsList))\r\n    .catch((err) => {\r\n      console.log(err)\r\n      setBasket(fakeData.productsList) //line to delete\r\n    })\r\n  }, []);\r\n\r\n  const MyBasket = () => {\r\n    if (basket.length === 0) return <Text>Nada en el carrito</Text>;\r\n\r\n    return basket.map((product, i) => {\r\n      const [counter, setCounter] = useState(1);\r\n\r\n      const decreaseAmount = () => {\r\n        return counter > 1 ? setCounter(counter - 1) : \"\";\r\n      };\r\n\r\n      const increaseAmount = () => {\r\n        return setCounter(counter + 1);\r\n      };\r\n\r\n      const removeProduct = () => {\r\n        console.log(\"removeProduct is working\");\r\n      };\r\n\r\n      return (\r\n        <View key={i} style={styles.productCard}>\r\n          <View style={styles.cardImage}>\r\n            <Image style={styles.productImage} source={{ uri: product.url }} />\r\n          </View>\r\n\r\n          <View style={styles.dataContainer}>\r\n            <View style={styles.productHeader}>\r\n              <Text style={styles.productHeaderText}>{product.title}</Text>\r\n              <Text style={styles.productHeaderText}>\r\n                $ {product.price * counter}\r\n              </Text>\r\n            </View>\r\n\r\n            <Text style={styles.subHeaderText}>{product.date}</Text>\r\n\r\n            {/* BOTONERA */}\r\n            <View style={styles.botonera}>\r\n              <Pressable onPress={() => increaseAmount()}>\r\n                <FontAwesome5 name=\"plus-square\" size={20} color=\"#3D9D5D\" />\r\n              </Pressable>\r\n              <Text style={{ marginHorizontal: 10 }}>{counter}</Text>\r\n              <Pressable onPress={() => decreaseAmount()}>\r\n                <FontAwesome5 name=\"minus-square\" size={20} color=\"#3D9D5D\" />\r\n              </Pressable>\r\n              <Pressable onPress={() => removeProduct()}>\r\n                <FontAwesome5\r\n                  name=\"trash-alt\"\r\n                  size={20}\r\n                  color=\"#3D9D5D\"\r\n                  style={styles.trashIcon}\r\n                />\r\n              </Pressable>\r\n            </View>\r\n          </View>\r\n        </View>\r\n      );\r\n    });\r\n  };\r\n\r\n  const Total = () => {\r\n    return (\r\n      <View style={styles.menuContainer}>\r\n        <View style={styles.footerContainer}>\r\n          <Text style={[styles.footerMainText]}>Total</Text>\r\n          <Text style={[styles.footerMainText]}>$850</Text>\r\n        </View>\r\n        <View>\r\n          <View style={styles.footerContainer}>\r\n            <Text style={styles.footerSecondaryText}>Delivery</Text>\r\n            <Text style={styles.footerSecondaryText}>$200</Text>\r\n          </View>\r\n          <View style={styles.footerContainer}>\r\n            <Text style={styles.footerSecondaryText}>Productos</Text>\r\n            <Text style={styles.footerSecondaryText}>$650</Text>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <View style={styles.homeContainer}>\r\n      <StatusBar backgroundColor=\"white\" barStyle=\"dark-content\" />\r\n      <ScrollView style={styles.menuContainer}>\r\n        <MenuComponent />\r\n\r\n        <Text style={styles.header}>Tu carrito</Text>\r\n\r\n        <MyBasket />\r\n\r\n      </ScrollView>\r\n        <Total />\r\n\r\n      {/* <Checkout /> */}\r\n      <Pressable\r\n        style={styles.buttonPurchase}\r\n        onPress={() => navigator.navigate('Orders')}\r\n        >\r\n        <View style={styles.buttonContainer}>\r\n          <Text style={styles.textStyle}>Confirmar pago</Text>\r\n          <Text style={styles.textStyle}>$850</Text>\r\n        </View>\r\n      </Pressable>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default CartScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n  header: {\r\n    fontWeight: \"bold\",\r\n    fontSize: 38,\r\n    alignSelf: \"center\",\r\n    marginBottom: 20,\r\n  },\r\n\r\n  footerContainer: {\r\n    justifyContent: \"space-between\",\r\n    flexDirection: \"row\",\r\n    marginHorizontal: 20,\r\n    marginVertical: 3,\r\n  },\r\n\r\n  footerMainText: {\r\n    fontWeight: \"bold\",\r\n    fontSize: 28,\r\n  },\r\n\r\n  footerSecondaryText: {\r\n    fontWeight: \"bold\",\r\n    fontSize: 12,\r\n  },\r\n\r\n  productHeaderText: {\r\n    fontSize: 14,\r\n    fontWeight: \"bold\",\r\n  },\r\n\r\n  productHeader: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n\r\n  dataContainer: {\r\n    paddingHorizontal: 10,\r\n    paddingVertical: 5,\r\n    width: \"75%\",\r\n  },\r\n\r\n  botonera: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    width: \"55%\",\r\n  },\r\n\r\n  trashIcon: {\r\n    marginLeft: 40,\r\n  },\r\n\r\n  // ............\r\n  homeContainer: {\r\n    flex: 1,\r\n  },\r\n\r\n  menuContainer: {\r\n    paddingTop: 40,\r\n    paddingHorizontal: 10,\r\n  },\r\n\r\n  cardImage: {\r\n    padding: 5,\r\n    backgroundColor: \"#F6F6F6\",\r\n    borderRadius: 50,\r\n  },\r\n\r\n  productImage: {\r\n    width: 60,\r\n    height: 60,\r\n  },\r\n\r\n  subHeaderText: {\r\n    marginVertical: 5,\r\n    fontSize: 14,\r\n  },\r\n\r\n  productCard: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    borderRadius: 10,\r\n    marginBottom: 20,\r\n    backgroundColor: \"white\",\r\n  },\r\n\r\n  cardBody: {\r\n    paddingHorizontal: 15,\r\n    width: \"60%\",\r\n  },\r\n\r\n  /* btn confirm */\r\n  buttonPurchase: {\r\n    borderTopStartRadius: 20,\r\n    borderTopEndRadius: 20,\r\n    padding: 20,\r\n    elevation: 2,\r\n    width: \"100%\",\r\n    backgroundColor: \"#3D9D5D\",\r\n    // bottom: -20,\r\n    marginTop: 20,\r\n  },\r\n  textStyle: {\r\n    color: \"white\",\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\",\r\n  },\r\n  buttonContainer: {\r\n    justifyContent: \"space-between\",\r\n    flexDirection: \"row\",\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}