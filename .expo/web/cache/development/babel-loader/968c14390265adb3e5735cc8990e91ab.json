{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from \"react\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { AntDesign, MaterialIcons } from \"@expo/vector-icons\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport globalStyles from \"../../styles/styles\";\nimport authStyles from \"../../styles/authStyles\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { useDispatch } from \"react-redux\";\nimport { login } from \"../../store/userSlice\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { AuthService } from \"../../services\";\n{}\nimport AuthMenuComponent from \"../../components/AuthMenuComponent\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar LoginScreen = function LoginScreen() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loader = _useState6[0],\n      setLoader = _useState6[1];\n\n  var navigator = useNavigation();\n  var dispatch = useDispatch();\n\n  var handleLogin = function handleLogin() {\n    var storeData = function storeData(value) {\n      return _regeneratorRuntime.async(function storeData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('@me', value));\n\n            case 3:\n              _context.next = 8;\n              break;\n\n            case 5:\n              _context.prev = 5;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 5]], Promise);\n    };\n\n    setLoader(true);\n    var user = {\n      email: email,\n      password: password\n    };\n    AuthService.login(user).then(function (user) {\n      if (user.verified) {\n        storeData(user.token);\n        dispatch(login(user));\n        navigator.navigate(\"Home\");\n      } else {\n        return createAlert(user.message || \"Por favor verifique su cuenta\");\n      }\n    }).catch(function (err) {\n      return console.log(\"something was wrong\", err);\n    }).finally(function () {\n      return setLoader(false);\n    });\n  };\n\n  var createAlert = function createAlert(message) {\n    return Alert.alert(\"Acceso denegado\", message, [{\n      text: \"OK\",\n      onPress: function onPress() {\n        return console.log();\n      }\n    }]);\n  };\n\n  return _jsxs(KeyboardAvoidingView, {\n    style: [globalStyles.scrollContainer],\n    behavior: \"padding\",\n    children: [_jsx(StatusBar, {\n      barStyle: \"dark-content\"\n    }), _jsx(AuthMenuComponent, {}), _jsxs(View, {\n      style: authStyles.titleContainer,\n      children: [_jsx(Text, {\n        style: [authStyles.title, globalStyles.fontLarge],\n        children: \"\\xA1Bienvenidx de vuelta!\"\n      }), _jsx(Text, {\n        style: [styles.subTitle, authStyles.subTitle, globalStyles.fontMedium],\n        children: \"Accede a tu cuenta\"\n      })]\n    }), _jsxs(View, {\n      style: globalStyles.widthEightyFive,\n      children: [_jsx(Text, {\n        style: [globalStyles.inputLabel, globalStyles.fontSmall],\n        children: \"EMAIL / NOMBRE DE USUARIO\"\n      }), _jsxs(View, {\n        style: globalStyles.inputRow,\n        children: [_jsx(AntDesign, {\n          name: \"user\",\n          style: globalStyles.icons\n        }), _jsx(TextInput, {\n          placeholder: \"Email\",\n          value: email,\n          keyboardType: \"email-address\",\n          icon: \"mail\",\n          onChangeText: function onChangeText(text) {\n            return setEmail(text);\n          },\n          style: globalStyles.input\n        })]\n      }), _jsx(Text, {\n        style: [globalStyles.inputLabel, globalStyles.fontSmall],\n        children: \"CONTRASE\\xD1A\"\n      }), _jsxs(View, {\n        style: globalStyles.inputRow,\n        children: [_jsx(AntDesign, {\n          name: \"lock\",\n          style: globalStyles.icons\n        }), _jsx(TextInput, {\n          placeholder: \"Contrase\\xF1a\",\n          value: password,\n          onChangeText: function onChangeText(text) {\n            return setPassword(text);\n          },\n          style: globalStyles.input,\n          secureTextEntry: true\n        })]\n      })]\n    }), _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigator.navigate(\"Forgot\");\n      },\n      style: styles.forgotContainer,\n      children: _jsx(Text, {\n        style: [styles.headerTitle, globalStyles.fontSmall, globalStyles.fontBold],\n        children: \"\\xBFOlvidaste tu contrase\\xF1a?\"\n      })\n    }), _jsxs(View, {\n      style: [styles.socialRow, globalStyles.row, globalStyles.alignItemsCenter],\n      children: [_jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigator.navigate(\"Home\");\n        },\n        style: styles.socialIcon,\n        children: _jsx(AntDesign, {\n          name: \"apple1\",\n          size: 22,\n          style: styles.socialColor\n        })\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigator.navigate(\"Home\");\n        },\n        style: [styles.socialIcon, styles.facebook],\n        children: _jsx(FontAwesome, {\n          name: \"facebook-f\",\n          size: 22,\n          style: styles.socialColor,\n          color: \"#1777F2\"\n        })\n      }), _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return navigator.navigate(\"Home\");\n        },\n        style: [styles.socialIcon, styles.google],\n        children: _jsx(AntDesign, {\n          name: \"google\",\n          size: 22,\n          style: styles.socialColor,\n          color: \"#ef4432\"\n        })\n      })]\n    }), _jsx(View, {\n      style: [authStyles.buttonContainer, globalStyles.widthEightyFive],\n      children: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return handleLogin();\n        },\n        style: [globalStyles.button, globalStyles.primary, globalStyles.widthFluid],\n        children: loader == false < 2 ? _jsx(View, {\n          style: [globalStyles.container, globalStyles.horizontal],\n          children: _jsx(ActivityIndicator, {\n            size: \"small\",\n            color: \"#FFF\"\n          })\n        }) : _jsx(Text, {\n          style: [styles.loginText, globalStyles.textWhite],\n          children: \"Iniciar sesi\\xF3n\"\n        })\n      })\n    }), _jsx(TouchableOpacity, {\n      onPress: function onPress() {\n        return navigator.navigate(\"Signup\");\n      },\n      style: styles.registerContainter,\n      children: _jsxs(Text, {\n        style: [styles.headerTitle, globalStyles.fontSmall],\n        children: [\"\\xBFNo ten\\xE9s cuenta?\", _jsx(Text, {\n          style: globalStyles.fontBold,\n          children: \" Registrate\"\n        })]\n      })\n    })]\n  });\n};\n\nexport default LoginScreen;\nvar styles = StyleSheet.create({\n  arrowSpace: {\n    marginBottom: 28\n  },\n  forgotContainer: {\n    width: \"80%\",\n    marginTop: 5,\n    marginBottom: 30\n  },\n  subTitle: {\n    marginBottom: -5\n  },\n  headerTitle: {\n    fontSize: 15,\n    textAlign: \"right\",\n    color: \"#121515\"\n  },\n  socialRow: {\n    width: \"50%\",\n    justifyContent: \"space-around\",\n    marginBottom: 25\n  },\n  socialIcon: {\n    borderWidth: 1,\n    padding: 10,\n    borderRadius: 10\n  },\n  facebook: {\n    paddingVertical: 10,\n    paddingHorizontal: 15\n  },\n  loginText: {\n    paddingVertical: 1\n  }\n});","map":{"version":3,"sources":["C:/Users/Valen/Desktop/ecooff-front/screens/Auth/LoginScreen.js"],"names":["React","useState","AntDesign","MaterialIcons","FontAwesome","globalStyles","authStyles","useNavigation","useDispatch","login","AsyncStorage","AuthService","AuthMenuComponent","LoginScreen","email","setEmail","password","setPassword","loader","setLoader","navigator","dispatch","handleLogin","storeData","value","setItem","console","log","user","then","verified","token","navigate","createAlert","message","catch","err","finally","Alert","alert","text","onPress","scrollContainer","titleContainer","title","fontLarge","styles","subTitle","fontMedium","widthEightyFive","inputLabel","fontSmall","inputRow","icons","input","forgotContainer","headerTitle","fontBold","socialRow","row","alignItemsCenter","socialIcon","socialColor","facebook","google","buttonContainer","button","primary","widthFluid","container","horizontal","loginText","textWhite","registerContainter","StyleSheet","create","arrowSpace","marginBottom","width","marginTop","fontSize","textAlign","color","justifyContent","borderWidth","padding","borderRadius","paddingVertical","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n  KeyboardAvoidingView,\r\n  StatusBar,\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  Alert,\r\n  ActivityIndicator,\r\n} from \"react-native\";\r\nimport { AntDesign, MaterialIcons } from \"@expo/vector-icons\";\r\nimport { FontAwesome } from \"@expo/vector-icons\";\r\nimport globalStyles from \"../../styles/styles\";\r\nimport authStyles from \"../../styles/authStyles\";\r\nimport { useNavigation } from \"@react-navigation/native\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { login } from \"../../store/userSlice\";\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\n// SERVICES\r\nimport { AuthService } from \"../../services\";\r\n\r\n{\r\n  /* COMPONENTS */\r\n}\r\nimport AuthMenuComponent from \"../../components/AuthMenuComponent\";\r\n\r\nconst LoginScreen = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loader, setLoader] = useState(false);\r\n\r\n  const navigator = useNavigation();\r\n  const dispatch = useDispatch();\r\n\r\n  \r\n  const handleLogin = () => {\r\n    const storeData = async (value) => {\r\n      try {\r\n        await AsyncStorage.setItem('@me', value)\r\n      } catch (e) {\r\n        console.log(e)\r\n      }\r\n    }\r\n    setLoader(true);\r\n\r\n    let user = {\r\n      email: email,\r\n      password: password,\r\n    };\r\n\r\n    // AuthService.login(user) //NOTE: comment to delete\r\n    //   .then((res) => {\r\n    //     console.log(\"LOGIN LOGIN LOGIN---> \", res); // line to delete\r\n\r\n    //     // if (response.message) {\r\n    //     //     createAlert(response.message);\r\n    //     // } else if (!response.verified) {\r\n    //     //     createAlert(response.message);\r\n    //     // } else {\r\n    //     //     navigator.navigate('Home')\r\n    //     // }\r\n\r\n    //     res.verified\r\n    //       ? navigator.navigate(\"Home\")\r\n    //       : createAlert(res.message || \"Por favor verifique su cuenta\");\r\n\r\n    //     setLoader(false);\r\n    //   })\r\n    //   .catch((err) => console.log(\"something was wrong\", err))\r\n\r\n    AuthService.login(user)\r\n      .then((user) => {\r\n        if (user.verified) {\r\n          storeData(user.token);\r\n          dispatch(login(user));\r\n          navigator.navigate(\"Home\");\r\n        } else {\r\n          return createAlert(user.message || \"Por favor verifique su cuenta\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(\"something was wrong\", err))\r\n      .finally(() => setLoader(false));\r\n  };\r\n\r\n  const createAlert = (message) =>\r\n    Alert.alert(\"Acceso denegado\", message, [\r\n      { text: \"OK\", onPress: () => console.log() },\r\n    ]);\r\n\r\n  return (\r\n    <KeyboardAvoidingView\r\n      style={[globalStyles.scrollContainer]}\r\n      behavior=\"padding\"\r\n    >\r\n      <StatusBar barStyle=\"dark-content\" />\r\n\r\n      {/* BACK ARROW */}\r\n      <AuthMenuComponent />\r\n\r\n      {/* WELCOME MESSAGE */}\r\n      <View style={authStyles.titleContainer}>\r\n        <Text style={[authStyles.title, globalStyles.fontLarge]}>\r\n          ¡Bienvenidx de vuelta!\r\n        </Text>\r\n        <Text\r\n          style={[\r\n            styles.subTitle,\r\n            authStyles.subTitle,\r\n            globalStyles.fontMedium,\r\n          ]}\r\n        >\r\n          Accede a tu cuenta\r\n        </Text>\r\n      </View>\r\n\r\n      {/* INPUTS */}\r\n      <View style={globalStyles.widthEightyFive}>\r\n        <Text style={[globalStyles.inputLabel, globalStyles.fontSmall]}>\r\n          EMAIL / NOMBRE DE USUARIO\r\n        </Text>\r\n        <View style={globalStyles.inputRow}>\r\n          <AntDesign name=\"user\" style={globalStyles.icons} />\r\n          <TextInput\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            keyboardType=\"email-address\"\r\n            icon=\"mail\"\r\n            onChangeText={(text) => setEmail(text)}\r\n            style={globalStyles.input}\r\n          />\r\n        </View>\r\n\r\n        <Text style={[globalStyles.inputLabel, globalStyles.fontSmall]}>\r\n          CONTRASEÑA\r\n        </Text>\r\n        <View style={globalStyles.inputRow}>\r\n          <AntDesign name=\"lock\" style={globalStyles.icons} />\r\n          <TextInput\r\n            placeholder=\"Contraseña\"\r\n            value={password}\r\n            onChangeText={(text) => setPassword(text)}\r\n            style={globalStyles.input}\r\n            secureTextEntry\r\n          />\r\n        </View>\r\n      </View>\r\n\r\n      <TouchableOpacity\r\n        onPress={() => navigator.navigate(\"Forgot\")}\r\n        style={styles.forgotContainer}\r\n      >\r\n        <Text\r\n          style={[\r\n            styles.headerTitle,\r\n            globalStyles.fontSmall,\r\n            globalStyles.fontBold,\r\n          ]}\r\n        >\r\n          ¿Olvidaste tu contraseña?\r\n        </Text>\r\n      </TouchableOpacity>\r\n\r\n      {/* SOCIAL BUTTONS */}\r\n      <View\r\n        style={[\r\n          styles.socialRow,\r\n          globalStyles.row,\r\n          globalStyles.alignItemsCenter,\r\n        ]}\r\n      >\r\n        {/* APPLE */}\r\n        <TouchableOpacity\r\n          onPress={() => navigator.navigate(\"Home\")}\r\n          style={styles.socialIcon}\r\n        >\r\n          <AntDesign name=\"apple1\" size={22} style={styles.socialColor} />\r\n        </TouchableOpacity>\r\n\r\n        {/* FACEBOOK */}\r\n        <TouchableOpacity\r\n          onPress={() => navigator.navigate(\"Home\")}\r\n          style={[styles.socialIcon, styles.facebook]}\r\n        >\r\n          <FontAwesome\r\n            name=\"facebook-f\"\r\n            size={22}\r\n            style={styles.socialColor}\r\n            color=\"#1777F2\"\r\n          />\r\n        </TouchableOpacity>\r\n\r\n        {/* GOOGLE */}\r\n        <TouchableOpacity\r\n          onPress={() => navigator.navigate(\"Home\")}\r\n          style={[styles.socialIcon, styles.google]}\r\n        >\r\n          <AntDesign\r\n            name=\"google\"\r\n            size={22}\r\n            style={styles.socialColor}\r\n            color=\"#ef4432\"\r\n          />\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* BUTTON */}\r\n      <View style={[authStyles.buttonContainer, globalStyles.widthEightyFive]}>\r\n        <TouchableOpacity\r\n          onPress={() => handleLogin()}\r\n          style={[\r\n            globalStyles.button,\r\n            globalStyles.primary,\r\n            globalStyles.widthFluid,\r\n          ]}\r\n        >\r\n          {loader == false < 2 ? (\r\n            <View style={[globalStyles.container, globalStyles.horizontal]}>\r\n              <ActivityIndicator size=\"small\" color=\"#FFF\" />\r\n            </View>\r\n          ) : (\r\n            <Text style={[styles.loginText, globalStyles.textWhite]}>\r\n              Iniciar sesión\r\n            </Text>\r\n          )}\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      <TouchableOpacity\r\n        onPress={() => navigator.navigate(\"Signup\")}\r\n        style={styles.registerContainter}\r\n      >\r\n        <Text style={[styles.headerTitle, globalStyles.fontSmall]}>\r\n          ¿No tenés cuenta?\r\n          <Text style={globalStyles.fontBold}> Registrate</Text>\r\n        </Text>\r\n      </TouchableOpacity>\r\n    </KeyboardAvoidingView>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n\r\nconst styles = StyleSheet.create({\r\n  arrowSpace: {\r\n    marginBottom: 28,\r\n  },\r\n\r\n  forgotContainer: {\r\n    width: \"80%\",\r\n    marginTop: 5,\r\n    marginBottom: 30,\r\n  },\r\n\r\n  subTitle: {\r\n    marginBottom: -5,\r\n  },\r\n\r\n  headerTitle: {\r\n    fontSize: 15,\r\n    textAlign: \"right\",\r\n    color: \"#121515\",\r\n  },\r\n\r\n  socialRow: {\r\n    width: \"50%\",\r\n    justifyContent: \"space-around\",\r\n    marginBottom: 25,\r\n  },\r\n\r\n  socialIcon: {\r\n    borderWidth: 1,\r\n    padding: 10,\r\n    borderRadius: 10,\r\n  },\r\n\r\n  facebook: {\r\n    paddingVertical: 10,\r\n    paddingHorizontal: 15,\r\n  },\r\n\r\n  loginText: {\r\n    paddingVertical: 1,\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}